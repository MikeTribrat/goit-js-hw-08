{"mappings":"mjBAIA,MAEMA,EAAUC,SAASC,cAAc,sBAmBvC,SAASC,EAAaC,GACpB,MAAMC,EAAW,IAAIC,SAASF,GACxBG,EAAS,GAEf,OADAF,EAASG,SAAQ,CAACC,EAAOC,IAAUH,EAAOG,GAAQD,IAC3CF,GAGT,SAA4BI,GAC1B,MAAMC,GAAW,EAAAC,EAAAC,MA7BI,uBA+BrB,IAAKF,EAAU,OAEfG,OAAOC,QAAQJ,GAAUJ,SAAQ,EAAES,EAAKR,MACtCE,EAAKM,GAAKR,MAAQA,KA/BtBS,CAAmBlB,GAEnBA,EAAQmB,iBAAiB,UAQzB,SAAsBC,GACpBA,EAAEC,iBACF,MAAMd,EAASJ,EAAaH,GAC5BoB,EAAEE,cAAcC,QAChBC,aAAaC,WAjBQ,uBAkBrBC,QAAQC,IAAI,mBAAoBpB,MAZlCP,EAAQmB,iBAAiB,QAASS,EAAAC,GAAEC,UAEpC,SAAqBV,GACnB,MAAMb,EAASJ,EAAaH,IAC5B,EAAAa,EAAAkB,MAVqB,sBAUAxB,KAJmC","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../sass/main.scss';\nimport { save, load } from './localStorageService';\nimport _ from 'lodash';\n\nconst FORM_USER_DATA = 'feedback-form-state';\n\nconst formRef = document.querySelector('form.feedback-form');\npopulateFormInputs(formRef);\n\nformRef.addEventListener('submit', onFormSubmit);\nformRef.addEventListener('input', _.throttle(onInputForm, 500));\n\nfunction onInputForm(e) {\n  const result = getUserInput(formRef);\n  save(FORM_USER_DATA, result);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const result = getUserInput(formRef);\n  e.currentTarget.reset();\n  localStorage.removeItem(FORM_USER_DATA);\n  console.log('Send form data :', result);\n}\n\nfunction getUserInput(formRef) {\n  const dataForm = new FormData(formRef);\n  const result = {};\n  dataForm.forEach((value, name) => (result[name] = value));\n  return result;\n}\n\nfunction populateFormInputs(form) {\n  const userData = load(FORM_USER_DATA);\n\n  if (!userData) return;\n\n  Object.entries(userData).forEach(([key, value]) => {\n    form[key].value = value;\n  });\n}\n"],"names":["$945622fd0f572e60$var$formRef","document","querySelector","$945622fd0f572e60$var$getUserInput","formRef1","dataForm","FormData","result","forEach","value","name","form","userData","$ku6De","load","Object","entries","key","$945622fd0f572e60$var$populateFormInputs","addEventListener","e","preventDefault","currentTarget","reset","localStorage","removeItem","console","log","$parcel$interopDefault","$kEUo3","throttle","save"],"version":3,"file":"03-feedback.58653d14.js.map"}